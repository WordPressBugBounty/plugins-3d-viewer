(()=>{"use strict";const e=window.React,t=(window.ReactDOM,({children:t,state:r="current"})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{className:`stepper__list__item stepper__list__item--${r}`},"done"===r&&(0,e.createElement)(a,null),"current"===r&&(0,e.createElement)(n,null),"pending"===r&&(0,e.createElement)(l,null),(0,e.createElement)("span",{className:"stepper__list__title"},t)))),a=()=>(0,e.createElement)("svg",{className:"stepper__list__icon",viewBox:"0 0 24 24"},(0,e.createElement)("path",{className:"st0",d:"M12 20c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8 3.6 8 8 8zm0 1.5c-5.2 0-9.5-4.3-9.5-9.5S6.8 2.5 12 2.5s9.5 4.3 9.5 9.5-4.3 9.5-9.5 9.5z"}),(0,e.createElement)("path",{className:"st0",d:"M11.1 12.9l-1.2-1.1c-.4-.3-.9-.3-1.3 0-.3.3-.4.8-.1 1.1l.1.1 1.8 1.6c.1.1.4.3.7.3.2 0 .5-.1.7-.3l3.6-4.1c.3-.3.4-.8.1-1.1l-.1-.1c-.4-.3-1-.3-1.3 0l-3 3.6z"})),n=()=>(0,e.createElement)("svg",{className:"stepper__list__icon stepper__list__icon--current",width:24,height:24,viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M12.2 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0 1.377a9.377 9.377 0 1 1 0-18.754 9.377 9.377 0 0 1 0 18.754zm-4-8a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754z",fill:"#006DFF",fillRule:"evenodd"})),l=()=>(0,e.createElement)("svg",{className:"stepper__list__icon stepper__list__icon--current",width:24,height:24,viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M12 16.1c1.8 0 3.3-1.4 3.3-3.2 0-1.8-1.5-3.2-3.3-3.2s-3.3 1.4-3.3 3.2c0 1.7 1.5 3.2 3.3 3.2zm0 1.7c-2.8 0-5-2.2-5-4.9S9.2 8 12 8s5 2.2 5 4.9-2.2 4.9-5 4.9z"})),r=({currentStep:a,steps:n})=>{const l=e=>{const t=n.findIndex(e=>e.id===a.id);return e<t?"done":e===t?"current":"pending"};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("nav",{className:"stepper"},(0,e.createElement)("ul",{className:"stepper__list"},n.map((a,n)=>(0,e.createElement)(t,{key:n,state:l(n)},a.title)))))},o=({currentStep:t,setCurrentStep:a,config:n})=>(0,e.createElement)("div",{className:"bp3d-header"},(0,e.createElement)("h2",null,n.meta.title),(0,e.createElement)("p",null,n.meta.description),(0,e.createElement)(r,{currentStep:t,setCurrentStep:a,steps:n.steps})),s=(0,e.createContext)(),i=({currentStep:t,setCurrentStep:a,config:n})=>{const{data:l,saveData:r}=((t,a={},n=!0)=>{const[l,r]=(0,e.useState)(!1),[o,s]=(0,e.useState)(!1),[i,c]=(0,e.useState)(null),[d,p]=(0,e.useState)(null);if(!wp.ajax)return void console.error("Please use wp-util as a dependency");const m=(e={})=>{r(!0),s(!1),c(null),wp.ajax.post(t,{...a,...e}).done(e=>{r(!1),p(e)}).fail(e=>{r(!1),s(!0),c(e)})},u=(e={})=>{m(e)};return(0,e.useEffect)(()=>{n&&m(a)},[]),{data:d,saveData:u,refetch:u,isLoading:l,isError:o,error:i}})("bp3d_save_setup",{},!1),o=n.steps.findIndex(e=>e.id===t.id),{state:i}=(0,e.useContext)(s),{save:c,value:d}=i[t.id]||{};return(0,e.useEffect)(()=>{l&&a(n.steps[o+1])},[l]),(0,e.createElement)("div",{className:"bp3d-footer"},o>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{className:"flex",disabled:0===o,onClick:()=>a(n.steps[o-1])},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,e.createElement)("path",{d:"m12 19-7-7 7-7"}),(0,e.createElement)("path",{d:"M19 12H5"})),"Back"),(0,e.createElement)("div",null,"Step ",o+1," of ",n.steps.length)),0===o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("button",{className:"flex bp3d-next-btn",onClick:()=>{c&&r({value:d,id:t.id,_wpnonce:i.nonce}),o===n.steps.length-1?window.open(n.first_path,"_self"):a(n.steps[o+1])}},0===o?"Get Started":o===n.steps.length-1?"Finish":"Next",(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,e.createElement)("path",{d:"M5 12h14"}),(0,e.createElement)("path",{d:"m12 5 7 7-7 7"}))))},c=({size:t=24,...a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("svg",{version:"1.1",width:t,fill:"currentColor",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 408.576 408.576",xmlSpace:"preserve",...a},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M204.288,0C91.648,0,0,91.648,0,204.288s91.648,204.288,204.288,204.288s204.288-91.648,204.288-204.288 S316.928,0,204.288,0z M318.464,150.528l-130.56,129.536c-7.68,7.68-19.968,8.192-28.16,0.512L90.624,217.6 c-8.192-7.68-8.704-20.48-1.536-28.672c7.68-8.192,20.48-8.704,28.672-1.024l54.784,50.176L289.28,121.344 c8.192-8.192,20.992-8.192,29.184,0C326.656,129.536,326.656,142.336,318.464,150.528z"}))),(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," ")," ",(0,e.createElement)("g",null," "))),d=window.wp.components,p=({items:t})=>(0,e.createElement)("ul",null,t.map((t,a)=>(0,e.createElement)("li",{key:a,className:"flex items-center"},(0,e.createElement)("span",{className:"bullet-point"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-check h-5 w-5 text-primary flex-shrink-0 mt-0.5","aria-hidden":"true"},(0,e.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,e.createElement)("path",{d:"m9 12 2 2 4-4"}))),(0,e.createElement)("span",null,t)))),m=({img:t})=>(t.startsWith("http")||(t=window.bp3d_setup_wizard.dir+t),(0,e.createElement)("img",{src:t})),u=({section:t})=>{const{title:a,blocks:n}=t;return(0,e.createElement)("div",{className:"bp3d-section"},(0,e.createElement)("h2",null,a),Array.isArray(n)&&n.length>0&&(0,e.createElement)("div",{className:"bp3d-blocks"},n.map((t,a)=>"paragraph"===t.type?(0,e.createElement)("p",{key:a},t.text):"bullets"===t.type?(0,e.createElement)(p,{key:a,items:t.items}):void 0)))},h=({content:t})=>(0,e.createElement)(e.Fragment,null,Array.isArray(t)&&(0,e.createElement)("div",{className:"bp3d-body-content"},t.map((t,a)=>"paragraph"===t.type?(0,e.createElement)("p",{key:a},t.text):"bullets"===t.type?(0,e.createElement)(p,{key:a,items:t.items}):"section"===t.type?(0,e.createElement)(u,{key:a,section:t}):"image"===t.type?(0,e.createElement)(m,{key:a,img:t.img}):"cards"===t.type?(0,e.createElement)(w,{key:a,cards:t.cards}):void 0))),g=({content:t,onRequestClose:a})=>(0,e.createElement)("div",{className:"bp3d-image-modal"},(0,e.createElement)("div",{className:"bp3d-modal-content"},(0,e.createElement)("span",{className:"close",onClick:a},"×"),(0,e.createElement)(m,{img:t[0].img}))),E=({action:t})=>{const[a,n]=(0,e.useState)(!1),{content:l,label:r}=t,o=Array.isArray(l)&&l.some(e=>"paragraph"===e.type);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{className:"button button-primary button-bplugins",onClick:()=>n(!0)},r),a&&(o?(0,e.createElement)(d.Modal,{onRequestClose:()=>n(!1)},(0,e.createElement)(h,{content:l})):(0,e.createElement)(g,{content:l,onRequestClose:()=>n(!1)})))},w=({preview:t,id:a})=>{const{items:n}=t,[l,r]=(0,e.useState)(t?.items?.findIndex(e=>e.isActive)),{setState:o}=(0,e.useContext)(s);return(0,e.useEffect)(()=>{o(e=>({...e,[a]:{activeCard:l,type:"cards",save:t.save,value:n[l].id}}))},[l]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"bp3d-preview-cards"},n.map((t,a)=>(0,e.createElement)("div",{key:a,className:l===a?"bp3d-preview-card active":"bp3d-preview-card",onClick:()=>r(a)},(0,e.createElement)("h3",null,t.title),(0,e.createElement)("p",null,t.description),(0,e.createElement)("span",{className:"badge"},b,t.badge),l===a&&(0,e.createElement)("span",{className:"active-tick"},(0,e.createElement)(c,{size:30})),Array.isArray(t.actions)&&(0,e.createElement)("div",{className:"flex justify-end"},t.actions.map((t,a)=>{if("popup"===t.type)return(0,e.createElement)(E,{key:a,action:t})}))))))},b=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,e.createElement)("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),(0,e.createElement)("path",{d:"M5 3v4"}),(0,e.createElement)("path",{d:"M19 17v4"}),(0,e.createElement)("path",{d:"M3 5h4"}),(0,e.createElement)("path",{d:"M17 19h4"})),y=({groups:t})=>(0,e.createElement)("div",{className:"flex gap-4 GroupedFieldList justify-center"},t.map((t,a)=>(0,e.createElement)("div",{key:a,className:""},(0,e.createElement)("h3",{className:"font-bold"},t.title),(0,e.createElement)("p",{className:""},t.description),(0,e.createElement)("ul",{className:"flex flex-col gap-2"},t.items.map((t,a)=>(0,e.createElement)("li",{key:a,className:"flex flex-col justify-between"},(0,e.createElement)("div",{className:"flex items-center gap-2"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-check h-5 w-5 text-primary flex-shrink-0 mt-0.5","aria-hidden":"true"},(0,e.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,e.createElement)("path",{d:"m9 12 2 2 4-4"})),t.label),(0,e.createElement)("span",null,t.helper))))))),v=({currentStep:t,setCurrentStep:a,config:n})=>{const{title:l,subtitle:r,content:o,preview:c,notes:d,id:p,dependent:m}=t,{state:u}=(0,e.useContext)(s),{type:g,activeCard:E}=u[m?.id]||{},b=t.dependent?.[g]?.[E];return(0,e.createElement)("div",{className:`bp3d-body ${t.id}`},l&&(0,e.createElement)("h2",null,l),r&&(0,e.createElement)("p",null,r),(0,e.createElement)(h,{content:o}),c&&(0,e.createElement)("div",{className:"bp3d-preview"},"cards"===c.type&&(0,e.createElement)(w,{preview:c,id:p}),"groupedFieldList"===c.type&&(0,e.createElement)(y,{groups:c.groups})),b&&(0,e.createElement)(h,{content:b}),Array.isArray(d)&&(0,e.createElement)("div",{className:"bp3d-notes"},d.map((t,a)=>(0,e.createElement)("div",{key:a,className:`bp3d-note ${t.type}`},(0,e.createElement)("p",null,t.text)))),(0,e.createElement)("span",{className:"bp3d-divider"}),(0,e.createElement)(i,{currentStep:t,setCurrentStep:a,config:n}))},f=({config:t})=>{const[a,n]=(0,e.useState)(t.steps[0]);return(0,e.createElement)("div",{className:"wrap"},(0,e.createElement)(o,{currentStep:a,setCurrentStep:n,config:t}),(0,e.createElement)(v,{currentStep:a,setCurrentStep:n,config:t}))},k=JSON.parse('{"wizardId":"3d-viewer-onboarding","version":"1.1.0","mode":"static-preview","audience":"post-activation","meta":{"title":"3D Viewer Setup Wizard","description":"A guided setup to help users pick a viewer, add a model, preview key options, and embed the viewer."},"first_path":"edit.php?post_type=bp3d-model-viewer&page=3d-viewer","steps":[{"id":"welcome","order":1,"title":"Welcome to 3D Viewer","subtitle":"Get your first 3D model live in minutes","content":[{"type":"paragraph","text":"This wizard will help you set up your first 3D Viewer. Choose a viewer, add a model, preview key options, and publish."},{"type":"bullets","items":["Lite viewer: best for .glb/.gltf with more features (Model-Viewer).","Advanced viewer: supports most formats with minimal options.","Works in Gutenberg and also supports shortcode embedding."]}],"actions":[{"type":"primary","label":"Get Started","goTo":"choose-viewer"}]},{"id":"choose-how-to-generate","title":"Choose How to Generate Shortcode","subtitle":"Choose the editor you’re familiar with. Both Classic Editor and Gutenberg support shortcode generation.","content":[{"type":"paragraph","text":"3D Viewer allows you to generate and use shortcodes from different editors. Pick the workflow that fits how you build pages."}],"preview":{"type":"cards","save":true,"items":[{"isActive":true,"title":"Gutenberg Block","id":"gutenberg-block","badge":"Shortcode Generator","description":"Generate shortcode using Gutenberg editor. Modern block-based editing experience","actions":[{"type":"popup","label":"Preview","content":[{"type":"image","img":"admin/images/gutenberg-shortcode-generator.png"}]}]},{"id":"classic-editor","title":"Classic Editor","badge":"Shortcode Generator","description":"Generate shortcode using Classic Editor. Simple, familiar, and straightforward.","actions":[{"type":"popup","label":"Preview","content":[{"type":"image","img":"admin/images/classic-shortcode-generator.png"}]}]}]},"notes":[{"type":"info","text":"All editors generate the same shortcode, so you can reuse it anywhere on your site."}],"actions":[{"type":"secondary","label":"Back"},{"type":"primary","label":"Next"}]},{"id":"model-and-options","order":3,"title":"Available Options","uiMap":[{"location":"Block Sidebar","tab":"Settings","section":"Model","labels":["Use Multiple Model?","Model URL","Model Poster","HDR skybox image","Use Decoder","Enable AR"]},{"location":"Block Sidebar","tab":"Settings","section":"Options","labels":["Fullscreen","Mouse Control","Lazy Load","Show Loading Percentage","Show Progressbar","Enable Shadow","Autoplay ( if animated )","Enable Variant Selector","Enable Animation Selector","Auto Rotate","Rotate Direction","Enable Zoom","Zoom Label"]}],"preview":{"type":"groupedFieldList","groups":[{"title":"Model","items":[{"label":"Model URL","helper":"Upload or paste your model file URL."},{"label":"Model Poster","helper":"Optional: show an image while the model loads."},{"label":"HDR skybox image (Pro)","helper":"Optional: add an HDR skybox for more realistic lighting."},{"label":"Use Decoder","helper":"Select a decoder if your model needs one (e.g., Draco/Meshopt)."},{"label":"Enable AR (Pro)","helper":"Allow visitors to open the model in AR on supported devices."}]},{"title":"Options","items":[{"label":"Fullscreen","helper":"Show or hide the fullscreen button."},{"label":"Mouse Control","helper":"Enable mouse interaction (rotate/pan) on desktop."},{"label":"Display Hotspots/Annotations on 3D model (Pro).","helper":"Adds interactive hotspots to the model for displaying information or actions."},{"label":"Show Loading Percentage","helper":"Show loading percentage while the model loads."},{"label":"Lock X/Y Axis Rotation (Pro)","helper":"Lock X/Y axis rotation to prevent users from rotating the model."},{"label":"Enable Shadow","helper":"Toggle model shadow for depth."},{"label":"Autoplay ( if animated )","helper":"Auto-play animation if the model includes animation."},{"label":"Auto Rotate","helper":"Rotate the model automatically."}]}]},"notes":[{"type":"info","text":"Tip: Lite viewer is ideal for optimized .glb/.gltf files. Advanced viewer is best when you need broader format support."}],"actions":[{"type":"secondary","label":"Back","goTo":"choose-viewer"},{"type":"primary","label":"Next","goTo":"publish-and-done"}]},{"id":"publish-and-done","order":4,"title":"Publish & You’re All Set","subtitle":"Embed it and troubleshoot common issues","content":[{"type":"section","title":"Embed on a Page","blocks":[{"type":"paragraph","text":"Use the Gutenberg editor and insert the “3D Viewer” block, then configure your settings in the sidebar."},{"type":"paragraph","text":"If you prefer shortcodes (Classic Editor / builders), use the shortcode generator (3D Viewer → Add New) and paste the shortcode anywhere."}]},{"type":"section","title":"Quick Troubleshooting","blocks":[{"type":"bullets","items":["Model not showing: confirm the file URL is accessible and the format matches the selected viewer.","Black/blank model: try adjusting lighting/skybox or re-export the model.","Slow loading: optimize the model and reduce texture size."]}]}],"actions":[{"type":"secondary","label":"Back","goTo":"model-and-options"},{"type":"primary","label":"Finish Setup","goTo":"exit"}]}]}'),x=({nonce:t})=>{const[a,n]=(0,e.useState)({nonce:t});return(0,e.createElement)(s.Provider,{value:{state:a,setState:n}},(0,e.createElement)(f,{config:k}))},{createRoot:S}=window.ReactDOM;document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("bp3d-setup-wizard"),a=t?.dataset?.nonce;t&&(S(t).render((0,e.createElement)(x,{nonce:a})),t.removeAttribute("data-nonce"))})})();